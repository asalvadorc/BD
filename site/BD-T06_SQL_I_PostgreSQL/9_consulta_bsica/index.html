
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>9 consulta bsica - BD - Bases de Datos</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#9-consulta-basica" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="BD - Bases de Datos" class="md-header__button md-logo" aria-label="BD - Bases de Datos" data-md-component="logo">
      
  <img src="../../assets/logocaminas.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BD - Bases de Datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              9 consulta bsica
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BD - Bases de Datos" class="md-nav__button md-logo" aria-label="BD - Bases de Datos" data-md-component="logo">
      
  <img src="../../assets/logocaminas.png" alt="logo">

    </a>
    BD - Bases de Datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Tema 1-Introducció
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Tema 1-Introducció
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/objectius/" class="md-nav__link">
        Objectius
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/1_fitxers_tradicionals/" class="md-nav__link">
        1. Fitxers tradicionals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/2_concepte_de_base_de_dades/" class="md-nav__link">
        2. Concepte de Base de Dades
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/3_caracterstiques_desitjables_dun_sgbd/" class="md-nav__link">
        3. Característiques desitjables d'un SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/4_models_de_dades/" class="md-nav__link">
        4. Models de dades
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/5_arquitectura_a_3_nivells/" class="md-nav__link">
        5. Arquitectura a 3 nivells
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/6_llenguatges_del_sgbd/" class="md-nav__link">
        6. Llenguatges del SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/7_classificacions_dels_sgbd/" class="md-nav__link">
        7. Classificacions dels SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/autoavaluaci/" class="md-nav__link">
        Autoavaluació
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T02_Model_E-R/" class="md-nav__link">
        Tema 2-Model E/R
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T03_Model_Relacional/" class="md-nav__link">
        Tema 3- Model Relacional
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T04_Normalitzacio/" class="md-nav__link">
        Tema 4- Normalització
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T05_Annex_Base/" class="md-nav__link">
        Tema 5- Annex Base
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T05_Annex_Access/" class="md-nav__link">
        Tema 5- Annex Access
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Tema 6- SQL I
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T06_SQL_II_PostgreSQL/" class="md-nav__link">
        Tema 6- SQL II]
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T06_SQL_III_PostgreSQL/index.md" class="md-nav__link">
        Tema 6- SQL III
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T07_PLpgSQL/index.md" class="md-nav__link">
        Tema 7- PLpgSQL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T08_BD_NoSQL/index.md)" class="md-nav__link">
        Tema 8- BD NoSQL
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p>Bases de Dades</p>
<ul>
<li><a href="../">Tema 6: SQL - Consulta bàsica (part I)</a></li>
<li><a href="../objectius_i_coneixements_previs/">Objectius i Coneixements previs</a></li>
<li><a href="../1_introducci/">1. Introducció</a></li>
<li><a href="../2_ddl_i_dml/">2. DDL i DML</a></li>
<li><a href="../3_client_dbeaver_installaci_i_confiuraci/">3. Client DBeaver: instal·lació i confiuració</a></li>
<li><a href="../4_client_dbeaver_utilitzaci/">4. Client DBeaver: utilització</a></li>
<li><a href="../5_dades_dels_exemples_i_els_exercicis/">5. Dades dels exemples i els exercicis</a></li>
<li><a href="../6_operadors/">6. Operadors</a></li>
<li><a href="../7_funcions/">7. Funcions</a> </li>
<li><a href="../71_formats_de_les_dates/">7.1 Formats de les dates</a></li>
<li><a href="../72_formats_dels_nmeros/">7.2 Formats dels números</a></li>
<li><a href="../8_la_consulta_select/">8. La consulta SELECT</a></li>
<li><a href="./">9. Consulta bàsica</a> </li>
<li><a href="../exercicis/">Exercicis</a></li>
<li><a href="../10_lies_en_les_columnes/">10. Àlies en les columnes</a> </li>
<li><a href="../exercicis0/">Exercicis</a></li>
<li><a href="../11_la_clusula_where/">11. La clàusula WHERE</a> </li>
<li><a href="../exercicis1/">Exercicis</a></li>
<li><a href="../12_funcions_dagregat/">12. Funcions d'agregat</a> </li>
<li><a href="../exercicis2/">Exercicis</a></li>
<li><a href="../13_la_clusula_group_by/">13. La clàusula GROUP BY</a> </li>
<li><a href="../exercicis3/">Exercicis</a></li>
<li><a href="../14_la_clusula_having/">14. La clàusula HAVING</a> </li>
<li><a href="../exercicis4/">Exercicis</a></li>
<li><a href="../15_la_clusula_order_by/">15. La clàusula ORDER BY</a> </li>
<li><a href="../exercicis5/">Exercicis</a></li>
<li><a href="../16_el_predicat_distinct/">16. El predicat DISTINCT</a> </li>
<li><a href="../exercicis6/">Exercicis</a></li>
<li><a href="../17_la_clusula_limit__offset/">17. La clàusula LIMIT .. OFFSET</a> </li>
<li><a href="../exercicis7/">Exercicis</a></li>
<li><a href="../18_consulta_de_creaci_de_taules/">18. Consulta de creació de taules</a> </li>
<li><a href="../exercicis8/">Exercicis</a></li>
<li><a href="../19_ordre_amb_qu_sexecuta_una_sentncia_sql/">19. Ordre amb què s'executa una sentència SQL</a></li>
<li><a href="../exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis de tot el tema, amb els resultats</a></li>
</ul>
<p><a href="../8_la_consulta_select/">« Anterior</a> | <a href="../exercicis/">Següent »</a></p>
<h1 id="9-consulta-basica"><a name="main"></a><strong>9. Consulta bàsica</strong></h1>
<p>El mínim que s'ha d'indicar en una instrucció SELECT és les columnes que volem i la seua procedència, que pot ser una o més d'una taula.</p>
<p>Sintaxi</p>
<p>SELECT <columnes> </p>
<p>FROM <clàusula></p>
<p>Opcionalment la sentència pot acabar en <strong>punt i coma</strong>. En <strong>psql</strong> és obligatori acabar en punt i coma, ja que és la manera que té de saber que acaba la instrucció (una instrucció pot ocupar més d'una línia)</p>
<p>I una altra consideració important és que en PostgreSQL els noms dels objectes (taules, columnes, ...) poden constar de més d'una paraula. Si el nom només consta d'una paraula es pot posar sense més problemes, però si consta de més d'una paraula (amb espis en blanc pel mig) o té algun caràcter especial, o coincideix amb alguna paraula reservada (per exemple <strong><em>any</em></strong>), haurà d'anar entre <strong>cometes dobles</strong>. Per a estalviar problemes, és una bona pràctica fer els noms sempre d'una paraula (si es volen posar dues, unides pel guió baix).</p>
<p>En <strong><columnes></strong> podrem posar (separades per <strong>comes</strong>):</p>
<ul>
<li><strong>noms de les columnes</strong> que volem; si hi ha confusió entre noms de camps de distintes taules, haurem de posar <strong>Taula.columna</strong>.</li>
<li><strong>*</strong> : indica totes les columnes.</li>
<li><strong>Taula.*</strong> : indica totes les columnes de la taula.</li>
<li><strong>Funcions</strong> (veure pregunta 6)</li>
<li><strong>Constants</strong>: son valors que posem directament. Els tipus de constants són:</li>
<li><strong>Numèriques</strong>: es posen tal qual, amb punt decimal (no pot anar coma decimal, perquè serveix per a separar les columnes)</li>
<li><strong>Alfaumèriques</strong>: es posen entre <strong>cometes simples</strong></li>
<li>Per a altres tipus (com per exemple data-hora), posem la constant entre cometes simples, i PostgreSQL farà la conversió</li>
<li><strong>Expressions</strong> que utilitzen operadors per a combinar columnes, funcions, constants numèriques o alfanumèriques, ...</li>
</ul>
<p>En la <strong><clàusula></strong> del <strong>FROM</strong> posarem la taula o les taules (separades per comes) d'on venen les dades.</p>
<p>Així el següent exemple trau tota la informació de la taula COMARQUES, és a dir totes les files i totes les columnes:</p>
<p>SELECT * FROM COMARQUES;</p>
<p>Mentre que la següent només trau el nom:</p>
<p>SELECT nom_c FROM COMARQUES;</p>
<p>En el següent exemple es trau el nom de cada població, els habitants, l'extensió i la densitat de població (habitants partit per extensió):</p>
<p>SELECT nom , poblacio , extensio , poblacio/extensio FROM POBLACIONS;</p>
<p>I en aquest traem el nom de cada poble, l'altura i la mitat de la seua altura (cosa un poc absurda però que serveix per a remarcar que si posem una constant numèrica, hem de posar el <strong>punt decimal</strong>, no la coma decimal, ja que la coma serveix per a separar els camps) :</p>
<p>SELECT nom , altura , altura * 0.5 FROM POBLACIONS;</p>
<p>Exemples</p>
<ol>
<li>Traure tota la informació de la taula POBLACIONS.</li>
</ol>
<p>SELECT * FROM POBLACIONS;</p>
<ol>
<li>Traure el nom i l'altura de totes les poblacions.</li>
</ol>
<p>SELECT nom, altura
<code></code>FROM POBLACIONS;</p>
<ol>
<li>Traure el nom de les poblacions, el número d'habitants, i aquest número incrementat en un 5%.</li>
</ol>
<p>SELECT nom, poblacio, poblacio * 1.05 
<code></code>FROM POBLACIONS;</p>
<p><code></code>Observa com hem d'utilitzar el punt decimal i no la coma decimal, ja que la coma serveix per a separar els camps de la consulta SQL</p>
<ol>
<li>Traure nom, latitud i els graus de la latitud de totes les poblacions. Per a traure els graus de la latitud traurem els caràcters de l'esquerra, fins el primer el caràcter º.</li>
</ol>
<p>SELECT nom, latitud, SUBSTR(latitud,1,STRPOS(latitud,'º')-1)
<code></code>FROM POBLACIONS;</p>
<p><a href="../8_la_consulta_select/">« Anterior</a> | <a href="../exercicis/">Següent »</a></p>
<p>Llicenciat sota la <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial CompartirIgual 3.0</a>
<strong>Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/</strong></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "toc.integrate", "search.highlight", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>