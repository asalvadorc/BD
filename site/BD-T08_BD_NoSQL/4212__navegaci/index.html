
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>4212 navegaci - BD - Bases de Datos</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4212-navegacio" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="BD - Bases de Datos" class="md-header__button md-logo" aria-label="BD - Bases de Datos" data-md-component="logo">
      
  <img src="../../assets/logocaminas.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BD - Bases de Datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4212  navegaci
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BD - Bases de Datos" class="md-nav__button md-logo" aria-label="BD - Bases de Datos" data-md-component="logo">
      
  <img src="../../assets/logocaminas.png" alt="logo">

    </a>
    BD - Bases de Datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Tema 1-Introducció
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Tema 1-Introducció
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/objectius/" class="md-nav__link">
        Objectius
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/1_fitxers_tradicionals/" class="md-nav__link">
        1. Fitxers tradicionals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/2_concepte_de_base_de_dades/" class="md-nav__link">
        2. Concepte de Base de Dades
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/3_caracterstiques_desitjables_dun_sgbd/" class="md-nav__link">
        3. Característiques desitjables d'un SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/4_models_de_dades/" class="md-nav__link">
        4. Models de dades
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/5_arquitectura_a_3_nivells/" class="md-nav__link">
        5. Arquitectura a 3 nivells
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/6_llenguatges_del_sgbd/" class="md-nav__link">
        6. Llenguatges del SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/7_classificacions_dels_sgbd/" class="md-nav__link">
        7. Classificacions dels SGBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T01_Introduccio/autoavaluaci/" class="md-nav__link">
        Autoavaluació
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T02_Model_E-R/" class="md-nav__link">
        Tema 2-Model E/R
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T03_Model_Relacional/" class="md-nav__link">
        Tema 3- Model Relacional
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T04_Normalitzacio/" class="md-nav__link">
        Tema 4- Normalització
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T05_Annex_Base/" class="md-nav__link">
        Tema 5- Annex Base
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T05_Annex_Access/" class="md-nav__link">
        Tema 5- Annex Access
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T06_SQL_I_PostgreSQL/" class="md-nav__link">
        Tema 6- SQL I
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../BD-T06_SQL_II_PostgreSQL/" class="md-nav__link">
        Tema 6- SQL II]
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T06_SQL_III_PostgreSQL/index.md" class="md-nav__link">
        Tema 6- SQL III
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T07_PLpgSQL/index.md" class="md-nav__link">
        Tema 7- PLpgSQL
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../(BD-T08_BD_NoSQL/index.md)" class="md-nav__link">
        Tema 8- BD NoSQL
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p>Bases de Dades</p>
<ul>
<li><a href="../">Tema 8: Bases de Dades NoSQL</a></li>
<li><a href="../1__introducci/">1 - Introducció</a></li>
<li><a href="../2__bd_clauvalor_redis/">2 - BD Clau-Valor: Redis</a> </li>
<li><a href="../21__installaci_de_redis/">2.1 - Instal·lació de Redis</a></li>
<li><a href="../22__entron_grfic_redis_desktop_manager/">2.2 - Entron gràfic: Redis Desktop Manager</a></li>
<li><a href="../23__utilitzaci_de_redis/">2.3 - Utilització de Redis</a> <ul>
<li><a href="../231__strings/">2.3.1 - Strings</a></li>
<li><a href="../232__keys/">2.3.2 - Keys</a></li>
<li><a href="../233__hash/">2.3.3 - Hash</a></li>
<li><a href="../234__list/">2.3.4 - List</a></li>
<li><a href="../235__set/">2.3.5 - Set</a></li>
<li><a href="../236__set_ordenat/">2.3.6 - Set ordenat</a></li>
</ul>
</li>
<li><a href="../3__mongodb/">3 - MongoDB</a> </li>
<li><a href="../31__estructura_json/">3.1 - Estructura JSON</a></li>
<li><a href="../32__installaci_de_mongodb/">3.2 - Instal·lació de MongoDB</a> <ul>
<li><a href="../321__connexi_al_servidor_de_linstitut/">3.2.1 - Connexió al servidor de l'Institut</a></li>
</ul>
</li>
<li><a href="../33__utilitzaci_de_mongodb/">3.3 - Utilització de MongoDB</a> <ul>
<li><a href="../331__tipus_de_dades/">3.3.1 - Tipus de dades</a></li>
<li><a href="../332__operacions_bsiques/">3.3.2 - Operacions bàsiques</a></li>
<li><a href="../323__operacions_dactualitzaci_avanada/">3.2.3 - Operacions d'actualització avançada</a> </li>
<li><a href="../3331__set/">3.3.3.1 - $set</a></li>
<li><a href="../3332__unset/">3.3.3.2 - $unset</a></li>
<li><a href="../3333__rename/">3.3.3.3 - $rename</a></li>
<li><a href="../3334__inc/">3.3.3.4 - $inc</a></li>
<li><a href="../3335__elements_dun_array/">3.3.3.5 - Elements d'un array</a></li>
<li><a href="../3336__inserci_en_arrays_push/">3.3.3.6 - Inserció en Arrays: $push</a></li>
<li><a href="../3337__eliminaci_en_arrays_pop_i_pull/">3.3.3.7 - Eliminació en arrays: $pop i $pull</a></li>
<li><a href="../3338__upsert/">3.3.3.8 - Upsert</a></li>
</ul>
</li>
<li><a href="../34__consulta_de_documents/">3.4 - Consulta de documents</a> <ul>
<li><a href="../341__parmetres_de_les_funcions_find_i_findone/">3.4.1 - Paràmetres de les funcions find() i findOne()</a></li>
<li><a href="../342__operadors_de_les_condicions/">3.4.2 - Operadors de les condicions</a></li>
<li><a href="../343__agregaci/">3.4.3 - Agregació</a></li>
</ul>
</li>
<li><a href="../4__bd_xml_existdb/">4 - BD XML: eXist-db</a> </li>
<li><a href="../41__installaci_dexistdb/">4.1 - Instal·lació d'eXist-db</a></li>
<li><a href="../42__llenguatges_de_consultes_xpath_i_xquery/">4.2 - Llenguatges de consultes XPATH i XQUERY</a> <ul>
<li><a href="../421__xpath/">4.2.1 - XPATH</a> </li>
<li><a href="../4211__vista_darbre/">4.2.1.1 - Vista d'arbre</a></li>
<li><a href="./">4.2.1.2 - Navegació</a></li>
<li><a href="../4213__seqncies/">4.2.1.3 - Seqüències</a></li>
<li><a href="../4214__funcions/">4.2.1.4 - Funcions</a></li>
<li><a href="../422__xquery/">4.2.2 - XQUERY</a> </li>
<li><a href="../4221__consultes_xquery/">4.2.2.1 - Consultes XQuery</a></li>
<li><a href="../4222__variables/">4.2.2.2 - Variables</a></li>
<li><a href="../4223__expressions_avaluables/">4.2.2.3 - Expressions avaluables</a></li>
<li><a href="../4224__expressions_flwor/">4.2.2.4 - Expressions FLWOR</a></li>
<li><a href="../4225__alternatives/">4.2.2.5 - Alternatives</a></li>
<li><a href="../4226__exemple_de_consulta_elaborada/">4.2.2.6 - Exemple de consulta "elaborada"</a></li>
<li><a href="../4227__funcions_de_existdb_de_manipulaci_de_bd/">4.2.2.7 - Funcions de eXist-db de manipulació de BD</a></li>
</ul>
</li>
<li><a href="../5__firebase_voluntari/">5 - FIREBASE (voluntari)</a> </li>
<li><a href="../51__creaci_duna_aplicaci/">5.1 - Creació d'una aplicació</a></li>
<li><a href="../52__realtime_database_rd/">5.2 - Realtime Database (RD)</a></li>
<li><a href="../53__cloud_firestore_cf/">5.3 - Cloud Firestore (CF)</a></li>
<li><a href="../54__cloud_storage/">5.4 - Cloud Storage</a></li>
<li><a href="../exercicis/">Exercicis</a></li>
</ul>
<p><a href="../4211__vista_darbre/">« Anterior</a> | <a href="../4213__seqncies/">Següent »</a></p>
<h1 id="4212-navegacio"><strong>4.2.1.2 - Navegació</strong></h1>
<p>Com que la representació interna del document XML per XPath serà un arbre, es pot navegar per ell especificant camins d’una manera semblant a com es fa en els directoris dels sistemes operatius.</p>
<p>El més important per tenir en compte a l’hora de crear una expressió XPath és saber quin és el node en el qual està situat el procés (<strong>node de context</strong>), ja que és des d’aquest que s’avaluarà l’expressió. El node de context al principi és el node arrel però es va movent a mesura que es van avaluant les expressions, i per tant podem expressar els camins XPath de dues maneres:</p>
<ul>
<li><strong>Camins absoluts</strong></li>
<li><strong>Camins relatius</strong></li>
</ul>
<p>Els <strong>camins absoluts</strong> són camins que sempre comencen en l’arrel de l’arbre. Es poden identificar perquè el primer caràcter de l’expressió sempre serà l’arrel ”<strong>/</strong>”. No importa quin siga el node de context si es fan servir camins absoluts, perquè el resultat sempre serà el mateix.</p>
<p>En canvi, els <strong>camins relatius</strong> parteixen des del node en el qual estem situats.</p>
<p>Per exemple, es pot obtenir el node <strong><nom></strong> del professor de l’exemple anterior fent servir l’expressió XPath següent:</p>
<p>/classe/professor/nom</p>
<p>Podem veure com s’avalua l’expressió en l’arbre XPath en la següent figura, marcat el camí en taronja:</p>
<p><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>Observeu que el resultat d’aquesta expressió no és només el contingut de l’element sinó tot l’element <strong><nom></strong>.</p>
<p><nom>Joan</nom></p>
<p>Mai no s’ha d’oblidar que l’expressió sempre intenta aconseguir el nombre màxim de camins correctes i, per tant, no necessàriament ha de retornar només un únic valor. Per exemple, si l’expressió per avaluar és la següent:</p>
<p>/classe/alumnes/alumne/nom</p>
<p>XPath l’avaluaria intentant aconseguir tots els camins que quadren amb l’expressió, tal com podeu veure visualment en la següent figura:</p>
<p><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>i per tant els resultats són (observeu que Joan es refereix al nom del tercer alumne, no del professor):</p>
<p><nom>Albert</nom></p>
<p><nom>Bernat</nom></p>
<p><nom>Joan</nom></p>
<p>A pesar que en els exemples anteriors sempre s’han retornat nodes finals això no necessàriament ha de ser així, ja que XPath pot retornar qualsevol tipus d’element com a resultat.</p>
<p>/classe/alumnes</p>
<p>La navegació per l’arbre no difereix massa dels altres casos:</p>
<p><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>En aquest cas el resultat no és un element simple sinó que és tot un subarbre d’elements.</p>
<p><alumnes> </p>
<p><alumne aprovat="si"> </p>
<p><nom>Albert</nom></p>
<p><cognoms>Alegre</cognoms></p>
<p><nota>6</nota></p>
<p></alumne></p>
<p><alumne aprovat="no"> </p>
<p><nom>Bernat</nom></p>
<p><cognoms>Balaguer</cognoms></p>
<p><nota>3</nota></p>
<p></alumne></p>
<p><alumne delegat="si" aprovat="si"> </p>
<p><nom>Joan</nom></p>
<p><cognoms>Centelles</cognoms></p>
<p><nota>8</nota></p>
<p></alumne></p>
<p></alumnes></p>
<p>Si se sap que una expressió retornarà més d'un resultat però només se’n vol un d’específic, es pot fer servir un número envoltat per claudàtors quadrats ”<strong>[ ]</strong>” per indicar quin és el que es vol aconseguir. Per retornar només el primer alumne podeu fer el següent:</p>
<p>/classe/alumnes/alumne[1]</p>
<p>que tornarà el següent:</p>
<p><alumne aprovat="si"></p>
<p><nom>Albert</nom></p>
<p><cognoms>Alegre</cognoms></p>
<p><nota>6</nota></p>
<p></alumne></p>
<p>ja que dels tres nodes disponibles com a fills de <strong><alumnes></strong>, només se seleccionarà el primer:</p>
<p><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>Es poden fer servir els claudàtors en qualsevol lloc de l’expressió per fer determinar quina de les branques es triarà. Per exemple, es pot obtenir només el <strong>nom</strong> del segon alumne amb una expressió com aquesta:</p>
<p>/classe/alumnes/alumne[2]/nom</p>
<p><nom>Bernat</nom></p>
<p>Sempre s’ha d’anar amb compte en escriure les expressions XPath, ja que si el camí especificat no es correspon amb un camí <strong>real</strong> dins de l’arbre no es retornarà cap resultat.</p>
<p>/classe/nom</p>
<p>Com que en arribar al node <strong>classe</strong> no n’hi trobarà cap d’anomenat <strong><nom></strong>, no retornarà cap resultat, com podeu veure si seguiu l’arbre:</p>
<p><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>Obtenir els atributs d'un element</p>
<p>Els valors dels atributs es poden aconseguir especificant el símbol <strong>@</strong> davant del nom de l'atribut, quan s’haja arribat a l’element que el conté:</p>
<p><code></code>/classe/professor/@Especialitat</p>
<p><code></code><img alt="ref1" src="4212__navegaci.002.png" /></p>
<p>S’ha de tenir en compte que a diferència del que passa amb els elements, en obtenir un atribut no tindrem un element sinó només el seu valor: </p>
<p><code></code>507</p>
<p><code></code><strong>Nota</strong></p>
<p>Depenent de l'entorn en què ens trobem, podria ser que l'anterior no ens mostre res. La raó és perquè els atributs no es poden serialitzar, i per tant no es poden mostrar en un entorn de XML. No tindríem aquest problema si accedim des de Java. La manera de solucionar-lo des de l'entorn de eXist és utilitzar la funció <strong>data()</strong>:</p>
<p>/classe/professor/data(@Especialitat)</p>
<p>Obtenir el contingut d'un element</p>
<p>Per a aquells casos en què només vulguem el contingut de l’element, s’ha definit la funció <strong>text()</strong> per obtenir aquest contingut. Això s’ha fet així perquè d’altra manera, com que els nodes de text no tenen nom, no s’hi podria accedir.</p>
<p>De manera que si a un element que tinga contingut de dades se li afegeix <strong><em>text()</em></strong>: </p>
<p><code></code>/classe/professor/nom/text()</p>
<p>…retornarà el contingut del node sense les etiquetes: </p>
<p><code></code>Joan</p>
<p>Comodins</p>
<p>De la mateixa manera que en els sistemes operatius, es poden fer servir comodins diversos en les expressions XPath. Es poden veure els comodins en la taula següent.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Comodí</strong></th>
<th style="text-align: center;"><strong>Significat</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">*</td>
<td style="text-align: center;">L’asterisc es fa servir per indicar tots els elements d’un determinat nivell.</td>
</tr>
<tr>
<td style="text-align: center;">.</td>
<td style="text-align: center;">Com en els directoris dels sistemes operatius el punt serveix per indicar el node actual.</td>
</tr>
<tr>
<td style="text-align: center;">..</td>
<td style="text-align: center;">Es fa servir per indicar el pare del node en el qual estem.</td>
</tr>
<tr>
<td style="text-align: center;">//</td>
<td style="text-align: center;">La doble barra indica que quadrarà amb qualsevol cosa des del node en el qual estem, es a dir que buscarà en tots els seus descendents. Pot ser un sol element o un arbre de nodes.</td>
</tr>
</tbody>
</table>
<p>Amb l’asterisc es poden obtenir tots els elements d’un determinat nivell. Amb aquesta expressió es poden obtenir tots els elements de dins del node <strong>professor</strong>.</p>
<p>/classe/professor/*</p>
<p>Aquesta expressió retornarà per separat els dos nodes fills de <strong><professor></strong> , <strong><nom></strong> i <strong><cognom>.</strong></p>
<p><nom>Joan</nom></p>
<p><cognoms>Puig</cognoms></p>
<p>O bé fer servir les dobles barres (<strong>//</strong>) per obtenir tots els elements <strong><nom></strong> del fitxer independentment del lloc on estiguen dins del document XML.</p>
<p>//nom</p>
<p>El resultat serà:</p>
<p><nom>Joan</nom></p>
<p><nom>Albert</nom></p>
<p><nom>Bernat</nom></p>
<p><nom>Joan</nom></p>
<p>Observeu que apareix el nom Joan 2 vegades, ja que és tant el nom del professor com d'un dels alumnes</p>
<p><strong>Nota</strong></p>
<p>En realitat aquesta sentència XPath tornarà molts més resultats, ja que buscarà en tots els documents de la col·lecció, i en <strong>Rutes.xml</strong> hi ha molts elements <strong>nom</strong>: els noms de les rutes i els noms dels punts, a banda dels noms de professors i d'alumnes.</p>
<p>Es poden posar les dobles barres en qualsevol lloc dins de l’expressió per indicar que pot haver qualsevol cosa enmig a partir del lloc on apareguen.</p>
<p>/classe/alumnes//nom</p>
<p>Donarà els dos noms dels alumnes (ara sí només alumnes, ni professors ni noms de ruta ni de punts):</p>
<p><nom>Albert</nom></p>
<p><nom>Bernat</nom></p>
<p><nom>Joan</nom></p>
<p>Tot i que facilita molt la creació d’expressions no és molt recomanable abusar del comodí <strong>//</strong> per motius d’eficiència. Les expressions amb aquest comodí requeriran molts més càlculs per ser avaluades, i per tant les expressions tardaran més a donar resultats. </p>
<p>Eixos XPATH</p>
<p>Per avaluar les expressions XPath s’explora un arbre, de manera que també es proporcionen una sèrie d’elements per fer referència a parts de l’arbre. Aquestos elements s’anomenen <strong>eixos XPath</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Eix</strong></th>
<th style="text-align: center;"><strong>Significat</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>self::</strong></td>
<td style="text-align: center;">El node en el qual està el procés (fa el mateix que el punt)</td>
</tr>
<tr>
<td style="text-align: center;"><strong>child::</strong></td>
<td style="text-align: center;">Fill de l’element actual</td>
</tr>
<tr>
<td style="text-align: center;"><strong>parent::</strong></td>
<td style="text-align: center;">El pare de l’element actual (idèntic a fer servir ..)</td>
</tr>
<tr>
<td style="text-align: center;"><strong>attribute::</strong></td>
<td style="text-align: center;">Es fa servir per obtenir un atribut de l’element actual (@)</td>
</tr>
</tbody>
</table>
<p>Alguns d’aquestos eixos pràcticament no es fan servir perquè generalment és més còmode i curt definir les expressions a partir del símbol. Tothom prefereix fer servir una expressió com aquesta:</p>
<p>/classe/professor/nom</p>
<p>Que no la seua versió equivalent fent servir els eixos:</p>
<p>/child::classe/child::professor/child::nom</p>
<p>A part dels vistos en la taula anterior n’hi ha d’altres, que en aquest cas no tenen cap símbol que els simplifique:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Eix</strong></th>
<th style="text-align: center;"><strong>Significat</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>descendant::</strong></td>
<td style="text-align: center;">Tots els descendents del node actual</td>
</tr>
<tr>
<td style="text-align: center;"><strong>desdendant-or-self::</strong></td>
<td style="text-align: center;">El node actual i els seus descendents</td>
</tr>
<tr>
<td style="text-align: center;"><strong>ancestor::</strong></td>
<td style="text-align: center;">Els ascendents del node</td>
</tr>
<tr>
<td style="text-align: center;"><strong>ancestor-or-self::</strong></td>
<td style="text-align: center;">El node actual i els seus ascendents</td>
</tr>
<tr>
<td style="text-align: center;"><strong>preceding::</strong></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p><strong>This document was truncated here because it was created in the Evaluation Mode.</strong>
<strong>Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/</strong></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "toc.integrate", "search.highlight", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>